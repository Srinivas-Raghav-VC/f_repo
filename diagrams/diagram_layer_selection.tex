% Layer selection via CKA/Procrustes/ANC combo
\documentclass[tikz,border=5pt]{standalone}
\usepackage{xcolor}
\usepackage{fontspec}
\usetikzlibrary{arrows.meta,shapes.geometric,fit,calc,shadows.blur}

% Define color scheme
\definecolor{primaryblue}{RGB}{41,128,185}
\definecolor{secondarygreen}{RGB}{39,174,96}
\definecolor{accentorange}{RGB}{230,126,34}
\definecolor{warningred}{RGB}{231,76,60}
\definecolor{lightgray}{RGB}{236,240,241}
\definecolor{darkgray}{RGB}{52,73,94}

\begin{document}
\begin{tikzpicture}[
  node distance=10mm and 14mm,
  block/.style={
    draw=primaryblue!80,
    fill=primaryblue!10,
    rounded corners=3pt,
    minimum width=26mm,
    minimum height=9mm,
    align=center,
    font=\sffamily\small,
    blur shadow={shadow blur steps=5, shadow xshift=0.5pt, shadow yshift=-0.5pt}
  },
  datablock/.style={
    draw=secondarygreen!80,
    fill=secondarygreen!10,
    rounded corners=3pt,
    minimum width=26mm,
    minimum height=9mm,
    align=center,
    font=\sffamily\small,
    blur shadow={shadow blur steps=5, shadow xshift=0.5pt, shadow yshift=-0.5pt}
  },
  resultblock/.style={
    draw=accentorange!80,
    fill=accentorange!10,
    rounded corners=3pt,
    minimum width=26mm,
    minimum height=9mm,
    align=center,
    font=\sffamily\small,
    blur shadow={shadow blur steps=5, shadow xshift=0.5pt, shadow yshift=-0.5pt}
  },
  line/.style={-{Stealth[length=2mm]}, thick, draw=darkgray},
  annot/.style={font=\sffamily\scriptsize, text=darkgray}
]

% Input data
\node[datablock] (hi) at (0,0) {Hindi set};
\node[datablock] (en) at (0,-14mm) {English set};

% Frozen model
\node[block] (model) at (36mm,-7mm) {Frozen LM};
\draw[line] (hi) -- (model) node[midway, above, annot, sloped] {activations};
\draw[line] (en) -- (model);

% Similarity computation
\node[block, minimum width=32mm] (sim) at (80mm,-7mm) {Similarity\\per layer\\{\footnotesize CKA, Procrustes, ANC}};
\draw[line] (model) -- (sim);

% Combo score
\node[block, minimum width=36mm] (score) at (128mm,-7mm) {Combo score\\{\footnotesize e.g., $0.4$ CKA $+$\\$0.4$ Proc $+$ $0.2$ ANC}};
\draw[line] (sim) -- (score);

% Final selection
\node[resultblock] (pick) at (172mm,-7mm) {Pick top-$k$\\mid layers};
\draw[line] (score) -- (pick);

% Add visual flow indicator
\draw[draw=darkgray!30, line width=1pt, rounded corners]
  ($(hi.north west)+(-2mm,2mm)$) rectangle ($(pick.south east)+(2mm,-2mm)$);
\node[anchor=north west, font=\sffamily\scriptsize\bfseries, text=darkgray!60]
  at ($(hi.north west)+(-2mm,2mm)$) {Layer Selection Pipeline};

\end{tikzpicture}
\end{document}
